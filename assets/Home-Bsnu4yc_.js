import{r as c,j as e,L as i}from"./index-iotoG_RL.js";const x=()=>{const[n,u]=c.useState([]),[a,h]=c.useState([]),[s,d]=c.useState(null);c.useEffect(()=>{(async()=>{try{const o=await(await fetch("https://dummyjson.com/products")).json();o.products&&o.products.length>0&&(u(o.products),d(l(o.products)),h(p(o.products)))}catch(r){console.error("Failed to fetch products:",r)}})()},[]);const l=t=>{const r=Math.floor(Math.random()*t.length);return t[r]},p=t=>{const r=new Set(t.map(o=>o.category));return Array.from(r)};return c.useEffect(()=>{const t=setInterval(()=>{n.length>0&&d(l(n))},5e3);return()=>clearInterval(t)},[n]),e.jsxs("div",{className:"home",children:[e.jsx("h1",{children:"Welcome to ShoppyGlobe!"}),e.jsx("div",{className:"category-list",children:e.jsx("ul",{children:[...a,...a].map((t,r)=>e.jsx(i,{to:`/ShoppyGlobe/browse?category=${encodeURIComponent(t)}`,children:e.jsx("li",{children:t})},`${t}-${r}`))})}),s&&e.jsxs("div",{className:"advertisement",children:[e.jsx("h2",{children:"Featured Product"}),e.jsx("img",{src:s.thumbnail,alt:s.title,className:"ad-image"}),e.jsx("h3",{children:s.title}),e.jsx("p",{children:s.description}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," $",s.price,e.jsxs("span",{style:{color:"red"},children:[" (",s.discountPercentage,"% off)"]})]}),e.jsx(i,{to:`/ShoppyGlobe/product/${encodeURIComponent(s.title)}`,children:e.jsx("button",{className:"shop-now-btn",children:"Shop Now"})})]})]})};export{x as default};
