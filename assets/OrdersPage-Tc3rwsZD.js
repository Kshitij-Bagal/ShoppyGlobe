import{r as c,c as a,j as s}from"./index-BPaaz1FW.js";const h=n=>{const[i,l]=c.useState(null),[r,o]=c.useState(!0),[d,e]=c.useState(null);return c.useEffect(()=>{fetch(`https://dummyjson.com/carts/${n}`).then(t=>{if(!t.ok)throw new Error("Orders not found");return t.json()}).then(t=>{console.log("Fetched Orders:",t),l(t),o(!1)}).catch(t=>{e(t.message),o(!1)})},[n]),{orders:i,loading:r,error:d}},x=()=>{const{userId:n}=a(),i=localStorage.getItem("userId")||1,l=n||i,{orders:r,loading:o,error:d}=h(l);return o?s.jsx("p",{children:"Loading order history..."}):d?s.jsx("p",{children:d}):!r||!r.products||r.products.length===0?s.jsx("p",{children:"No past orders found."}):s.jsxs("div",{className:"orders-page",children:[s.jsx("h2",{children:"Order History"}),s.jsxs("div",{className:"order-card",children:[s.jsxs("h3",{children:["Order ID: ",r.id]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Price:"})," $",r.total]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Items:"})," ",r.totalProducts]}),s.jsx("div",{className:"order-items",children:r.products.map(e=>s.jsxs("div",{className:"order-item",children:[s.jsx("img",{src:e.thumbnail,alt:e.title}),s.jsxs("div",{children:[s.jsx("p",{children:e.title}),s.jsxs("p",{children:["Quantity: ",e.quantity]}),s.jsxs("p",{children:["Price: $",e.price]})]})]},e.id))})]})]})};export{x as default};
